---
const {
	title, // Le titre sera obligatoire sur chaque page
	description = "Le blog personnel de Valentin. Développement, tech et découvertes.",
	image = "/paysage-accueil.jpg",
} = Astro.props;

// On calcule l'URL "officielle" de la page actuelle pour Google
const canonicalURL = new URL(Astro.url.pathname, Astro.site);

import Analytics from '@vercel/analytics/astro';
---

<!doctype html>
<html lang="fr">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    	<link rel="shortcut icon" href="/favicon.ico" />
       	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
       	<link rel="manifest" href="/site.webmanifest" />
    	<meta name="theme-color" content="#0d1b2a" />
		<meta name="generator" content={Astro.generator} />

		<link rel="canonical" href={canonicalURL} />
		<title>{title} | vbesse.com</title>
		<meta name="description" content={description} />

		<meta property="og:type" content="website" />
		<meta property="og:url" content={Astro.url} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={new URL(image, Astro.url)} />

		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={Astro.url} />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content={new URL(image, Astro.url)} />
	</head>
	<body>
		<header>
			<nav>
				<a href="/" class="site-title">vbesse.com</a>

				<div class="nav-links">
					<a href="/">Accueil</a>
					<a href="/blog">Blog</a>
					<a href="/tags">Sujets</a>
					<a href="/about">À propos</a>
				</div>
			</nav>
		</header>
		<main>
			<slot />
		</main>
		<footer></footer>
		<Analytics />
	</body>
</html>

<style is:global>
	html,
	:root {
		/* Une palette élégante : Fond blanc cassé, texte anthracite, bleu électrique pour les liens */
		--bg-color: #ffffff;
		--text-color: #1a1a1a;
		--accent-color: #0070f3;
		--gray-light: #f4f4f4;
		--accent: #232946;
		--accent-light: #eebbc3;
		--accent-dark: #b8c1ec;
		--brand-primary: #0070f3;
	}

	body {
		background-color: var(--bg-color);
		color: var(--text-color);
		font-family:
			"Inter Variable",
			-apple-system,
			BlinkMacSystemFont,
			"Segoe UI",
			Roboto,
			Oxygen,
			Ubuntu,
			Cantarell,
			"Open Sans",
			"Helvetica Neue",
			sans-serif;
		line-height: 1.6;
		margin: 0;
		padding: 0;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	main {
		max-width: 720px;
		margin: 0 auto;
		padding: 2rem 1rem;
	}

	a {
		color: var(--accent-color);
		text-decoration: none;
	}

	a:hover {
		text-decoration: underline;
	}

	header {
		margin: 0;
		padding: 0 1em;
		background: white;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
		position: sticky;
		top: 0;
		z-index: 10;
	}

	nav {
		display: flex;
		align-items: center;
		justify-content: space-between;
		max-width: 1000px;
		margin: 0 auto;
		padding: 1rem 0;
	}

	.site-title {
		font-size: 1.3rem;
		font-weight: 800;
		color: var(--text-color);
		text-decoration: none;
		letter-spacing: -0.5px;
	}

	.site-title:hover {
		text-decoration: none;
	}

	.nav-links {
		display: flex;
		gap: 1.5rem;
	}

	.nav-links a {
		color: #555;
		text-decoration: none;
		font-weight: 500;
		font-size: 1rem;
		transition: color 0.2s ease;
	}

	.nav-links a:hover {
		color: var(--accent-color);
	}
</style>
